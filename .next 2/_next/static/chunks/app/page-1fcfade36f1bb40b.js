(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3548:function(e,s,t){Promise.resolve().then(t.bind(t,57))},57:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return J}});var a=t(7437),l=t(2265),r=t(7440);let i="https://hohfixivtuqnowrdpucr.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhvaGZpeGl2dHVxbm93cmRwdWNyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYyMDQwMzksImV4cCI6MjA3MTc4MDAzOX0.6nD1dmkTw8pwN6jlhhC_2NlXCNESE884VIr9tVJsz1Y",d=!i||!n;d?console.warn("\uD83D\uDE80 Demo Mode: Using mock data. Set up Supabase credentials in .env.local for full functionality."):(console.log("âœ… Supabase Mode: Using real Supabase connection"),console.log("\uD83D\uDD0D Supabase URL:",i),console.log("\uD83D\uDD0D Supabase Key:",n?"Present":"Missing"));let c=d?{auth:{getSession:async()=>({data:{session:null},error:null}),getUser:async()=>({data:{user:null},error:null}),signInWithOAuth:async()=>({error:Error("Demo mode: Please set up Supabase credentials")}),signOut:async()=>({error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})},from:()=>({select:()=>({eq:()=>({order:()=>Promise.resolve({data:[],error:null})}),insert:()=>Promise.resolve({data:null,error:Error("Demo mode")}),update:()=>Promise.resolve({data:null,error:Error("Demo mode")})})})}:(0,r.eI)(i,n);var o=t(1295),m=t(5589),u=t(7216),x=t(9670),h=t(1981),g=t(5925);function p(){let[e,s]=(0,l.useState)(!1),[t,r]=(0,l.useState)(!1),[i,n]=(0,l.useState)(!1),[d,p]=(0,l.useState)(!1),[f,b]=(0,l.useState)(""),[j,y]=(0,l.useState)(""),[N,v]=(0,l.useState)(""),w=e=>e.length<6?"Password must be at least 6 characters long":null,S=async()=>{r(!0),v("");try{let{error:e}=await c.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/dashboard")}});e?(console.error("Google auth error:",e),v(e.message||"Failed to connect with Google")):g.default.success("Redirecting to Google...")}catch(e){console.error("Google auth error:",e),v(e.message||"Failed to connect with Google")}finally{r(!1)}},k=async e=>{e.preventDefault(),s(!0),v("");try{if(i){let e=w(j);if(e){v(e),s(!1);return}}if(i){let{data:e,error:s}=await c.auth.signUp({email:f,password:j,options:{emailRedirectTo:"".concat(window.location.origin,"/dashboard")}});s?(console.error("Signup error:",s),s.message.includes("Email not confirmed")?v("Please check your email and click the verification link to complete signup."):s.message.includes("User already registered")?v("An account with this email already exists. Please sign in instead."):v(s.message)):e.user&&!e.session?(g.default.success("Account created! Please check your email to verify your account."),v("Please check your email and click the verification link to complete signup.")):g.default.success("Account created and signed in successfully!")}else{let{error:e}=await c.auth.signInWithPassword({email:f,password:j});e?(console.error("Signin error:",e),e.message.includes("Email not confirmed")?v("Please check your email and click the verification link to complete signup."):e.message.includes("Invalid login credentials")?v("Invalid email or password. Please try again."):v(e.message)):g.default.success("Logged in successfully!")}}catch(e){console.error("Auth error:",e),v(e.message||"Failed to ".concat(i?"sign up":"sign in"))}finally{s(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"LinkedIn Post Automation"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Create, schedule, and publish LinkedIn posts with AI assistance"})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("button",{onClick:S,disabled:t,className:"w-full bg-white border border-gray-300 text-gray-700 font-medium py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:[(0,a.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,a.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,a.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,a.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),t?"Connecting...":"Continue with Google"]})}),(0,a.jsxs)("div",{className:"relative mb-6",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),(0,a.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{id:"email",type:"email",value:f,onChange:e=>b(e.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",i&&(0,a.jsx)("span",{className:"text-gray-500",children:"(min 6 characters)"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{id:"password",type:d?"text":"password",value:j,onChange:e=>y(e.target.value),required:!0,minLength:i?6:void 0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",onClick:()=>p(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?(0,a.jsx)(u.Z,{className:"w-5 h-5"}):(0,a.jsx)(x.Z,{className:"w-5 h-5"})})]})]}),N&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-sm text-red-700",children:N})]}),(0,a.jsx)("button",{type:"submit",disabled:e,className:"w-full bg-blue-600 text-white font-medium py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Loading...":i?"Sign Up":"Sign In"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)("button",{onClick:()=>{n(!i),v(""),b(""),y("")},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:i?"Already have an account? Sign In":"Don't have an account? Sign Up"})}),i&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,a.jsx)("strong",{children:"Note:"})," After signing up, you'll receive a verification email. Please check your inbox and click the verification link to complete your account setup."]})}),(0,a.jsx)("div",{className:"mt-8 text-center text-sm text-gray-500",children:(0,a.jsx)("p",{children:"By continuing, you agree to our Terms of Service and Privacy Policy"})})]})})}var f=t(2457),b=t(9883),j=t(9617),y=t(8203),N=t(6020),v=t(5883),w=t(1016),S=t(5750),k=t(5790),C=t(2851),P=t(6245);function D(e){let{user:s,onPostCreated:t}=e,[r,i]=(0,l.useState)(""),[n,d]=(0,l.useState)("professional"),[o,m]=(0,l.useState)(""),[u,x]=(0,l.useState)(!1),[h,p]=(0,l.useState)(!1),f=async()=>{if(!r.trim()){g.default.error("Please enter a topic");return}x(!0);try{let e=await fetch("/api/posts/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:r,tone:n})});if(!e.ok){let s=await e.json();throw Error(s.error||"Failed to generate post")}let s=await e.json();m(s.content),g.default.success("Post generated successfully!")}catch(e){g.default.error(e.message||"Failed to generate post")}finally{x(!1)}},b=async()=>{if(!o.trim()){g.default.error("No post content to save");return}p(!0);try{let{data:{session:e}}=await c.auth.getSession();if(!e){g.default.error("You must be logged in to save posts");return}if(!(await fetch("/api/posts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.access_token)},body:JSON.stringify({content:o,status:"draft"})})).ok)throw Error("Failed to save draft");g.default.success("Draft saved successfully!"),m(""),i(""),null==t||t()}catch(e){g.default.error(e.message||"Failed to save draft")}finally{p(!1)}},j=async e=>{try{let{data:{session:s}}=await c.auth.getSession();if(!s){g.default.error("You must be logged in to publish posts");return}if(!(await fetch("/api/posts/publish",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.access_token)},body:JSON.stringify({postId:e})})).ok)throw Error("Failed to publish post");g.default.success("Post published successfully!"),m(""),i(""),null==t||t()}catch(e){g.default.error(e.message||"Failed to publish post")}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create Post"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Generate LinkedIn posts with AI assistance based on your topic and preferred tone."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),(0,a.jsx)("textarea",{id:"topic",value:r,onChange:e=>i(e.target.value),placeholder:"Enter your post topic (e.g., 'AI in business', 'Remote work tips', 'Industry insights')",className:"input-field h-32 resize-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tone"}),(0,a.jsx)("select",{id:"tone",value:n,onChange:e=>d(e.target.value),className:"input-field",children:[{value:"professional",label:"Professional"},{value:"casual",label:"Casual"},{value:"enthusiastic",label:"Enthusiastic"},{value:"thoughtful",label:"Thoughtful"},{value:"humorous",label:"Humorous"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("button",{onClick:f,disabled:u||!r.trim(),className:"btn-primary w-full flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)(C.Z,{className:"w-5 h-5"}),u?"Generating...":"Generate Post"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Generated Post"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("textarea",{value:o,onChange:e=>m(e.target.value),placeholder:"Your generated post will appear here...",className:"input-field h-64 resize-none",readOnly:!o}),o&&(0,a.jsx)("div",{className:"absolute top-2 right-2",children:(0,a.jsxs)("button",{onClick:b,disabled:h,className:"btn-secondary flex items-center gap-2 text-sm disabled:opacity-50",children:[(0,a.jsx)(P.Z,{className:"w-4 h-4"}),h?"Saving...":"Save as Draft"]})})]})]})]}),o&&(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-medium text-blue-900 mb-2",children:"Preview"}),(0,a.jsx)("div",{className:"bg-white rounded border p-4 text-sm text-gray-700 whitespace-pre-wrap mb-4",children:o}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)("button",{onClick:b,disabled:h,className:"btn-secondary flex items-center justify-center gap-2 text-sm disabled:opacity-50",children:[(0,a.jsx)(P.Z,{className:"w-4 h-4"}),h?"Saving...":"Save as Draft"]}),(0,a.jsxs)("button",{onClick:()=>{b().then(()=>{g.default.success("Draft saved! You can now schedule it from the Draft tab.")})},disabled:h,className:"btn-secondary flex items-center justify-center gap-2 text-sm disabled:opacity-50",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4"}),"Schedule Post"]}),(0,a.jsxs)("button",{onClick:async()=>{try{await b();let e=await fetch("/api/posts",{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){let s=(await e.json()).find(e=>"draft"===e.status);s&&await j(s.id)}}catch(e){g.default.error("Failed to publish post")}},disabled:h,className:"btn-primary flex items-center justify-center gap-2 text-sm disabled:opacity-50",children:[(0,a.jsx)(N.Z,{className:"w-4 h-4"}),"Ready to Post"]})]})]})]})}var Z=t(6141),_=t(4301);function I(e){let{user:s,onPostUpdated:t}=e,[r,i]=(0,l.useState)([]),[n,d]=(0,l.useState)([]),[o,m]=(0,l.useState)(!0),[u,x]=(0,l.useState)(null),[h,p]=(0,l.useState)(""),[f,b]=(0,l.useState)("");(0,l.useEffect)(()=>{j()},[]);let j=async()=>{try{let{data:{session:e}}=await c.auth.getSession();if(!e){g.default.error("You must be logged in to fetch posts");return}let s=await fetch("/api/posts",{headers:{Authorization:"Bearer ".concat(e.access_token)}});if(!s.ok)throw Error("Failed to fetch posts");let t=await s.json();i(t.filter(e=>"draft"===e.status)),d(t.filter(e=>"scheduled"===e.status))}catch(e){g.default.error(e.message||"Failed to fetch posts")}finally{m(!1)}},v=async e=>{if(!h||!f){g.default.error("Please select both date and time");return}let s=new Date("".concat(h,"T").concat(f)).toISOString();x(e);try{let{data:{session:a}}=await c.auth.getSession();if(!a){g.default.error("You must be logged in to schedule posts");return}if(!(await fetch("/api/posts/schedule",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.access_token)},body:JSON.stringify({postId:e,scheduleTime:s})})).ok)throw Error("Failed to schedule post");g.default.success("Post scheduled successfully!"),p(""),b(""),j(),null==t||t()}catch(e){g.default.error(e.message||"Failed to schedule post")}finally{x(null)}},w=async e=>{try{let{data:{session:s}}=await c.auth.getSession();if(!s){g.default.error("You must be logged in to publish posts");return}if(!(await fetch("/api/posts/publish",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.access_token)},body:JSON.stringify({postId:e})})).ok)throw Error("Failed to publish post");g.default.success("Post published successfully!"),j(),null==t||t()}catch(e){g.default.error(e.message||"Failed to publish post")}};return o?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Schedule Posts"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Schedule your draft posts for automatic publishing at specific times."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Draft Posts"}),0===r.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(y.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{children:"No draft posts available"}),(0,a.jsx)("p",{className:"text-sm",children:"Create a post first to schedule it"})]}):(0,a.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,a.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Created: ",(0,_.Z)(new Date(e.created_at),"MMM dd, yyyy")]}),(0,a.jsx)("div",{className:"bg-white rounded border p-3 text-sm text-gray-700 whitespace-pre-wrap",children:e.content})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4 text-gray-500"}),(0,a.jsx)("input",{type:"date",value:h,onChange:e=>p(e.target.value),className:"input-field text-sm",min:new Date().toISOString().split("T")[0]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Z.Z,{className:"w-4 h-4 text-gray-500"}),(0,a.jsx)("input",{type:"time",value:f,onChange:e=>b(e.target.value),className:"input-field text-sm"})]}),(0,a.jsxs)("button",{onClick:()=>v(e.id),disabled:u===e.id||!h||!f,className:"btn-primary flex items-center gap-2 text-sm disabled:opacity-50",children:[(0,a.jsx)(P.Z,{className:"w-4 h-4"}),u===e.id?"Scheduling...":"Schedule"]})]})]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Scheduled Posts"}),0===n.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(Z.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{children:"No scheduled posts"})]}):(0,a.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 bg-blue-50",children:[(0,a.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(Z.Z,{className:"w-4 h-4 text-blue-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["Scheduled for: ",(0,_.Z)(new Date(e.schedule_time),"MMM dd, yyyy HH:mm")]})]}),(0,a.jsx)("div",{className:"bg-white rounded border p-3 text-sm text-gray-700 whitespace-pre-wrap",children:e.content})]})}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("button",{onClick:()=>w(e.id),className:"btn-primary flex items-center gap-2 text-sm",children:[(0,a.jsx)(N.Z,{className:"w-4 h-4"}),"Ready to Post"]})})]},e.id))})]})]})}var F=t(3008),T=t(2549),A=t(7461);function E(e){let{user:s,onPostUpdated:t}=e,[r,i]=(0,l.useState)([]),[n,d]=(0,l.useState)([]),[o,m]=(0,l.useState)(!0),[u,x]=(0,l.useState)(null),[h,p]=(0,l.useState)(!1),[f,b]=(0,l.useState)(null);(0,l.useEffect)(()=>{j()},[]);let j=async()=>{try{let{data:{session:e}}=await c.auth.getSession();if(!e){g.default.error("You must be logged in to fetch posts");return}let s=await fetch("/api/posts",{headers:{Authorization:"Bearer ".concat(e.access_token)}});if(!s.ok)throw Error("Failed to fetch posts");let t=await s.json();i(t.filter(e=>"scheduled"===e.status)),d(t.filter(e=>"published"===e.status))}catch(e){g.default.error(e.message||"Failed to fetch posts")}finally{m(!1)}},y=async e=>{x(e);try{let{data:{session:s}}=await c.auth.getSession();if(!s){g.default.error("You must be logged in to publish posts");return}if(!(await fetch("/api/posts/publish",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.access_token)},body:JSON.stringify({postId:e})})).ok)throw Error("Failed to publish post");g.default.success("Post published successfully!"),j(),null==t||t()}catch(e){g.default.error(e.message||"Failed to publish post")}finally{x(null)}},v=e=>{b(e),p(!0)},w=async()=>{try{g.default.loading("Connecting to LinkedIn...",{duration:2e3}),await new Promise(e=>setTimeout(e,2e3)),p(!1),b(null),f&&await y(f),g.default.success("LinkedIn connected! Post published successfully!")}catch(e){g.default.error("Failed to connect to LinkedIn")}},S=e=>!!e.schedule_time&&new Date(e.schedule_time)<=new Date;return o?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Publish Posts"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Publish your scheduled posts or publish them immediately."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ready to Publish"}),0===r.filter(S).length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(N.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{children:"No posts ready to publish"}),(0,a.jsx)("p",{className:"text-sm",children:"Posts will appear here when their scheduled time arrives"})]}):(0,a.jsx)("div",{className:"space-y-4",children:r.filter(S).map(e=>(0,a.jsx)("div",{className:"border rounded-lg p-4 bg-green-50",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(F.Z,{className:"w-4 h-4 text-green-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-green-900",children:["Ready to publish (was scheduled for: ",(0,_.Z)(new Date(e.schedule_time),"MMM dd, yyyy HH:mm"),")"]})]}),(0,a.jsx)("div",{className:"bg-white rounded border p-3 text-sm text-gray-700 whitespace-pre-wrap",children:e.content})]}),(0,a.jsxs)("button",{onClick:()=>y(e.id),disabled:u===e.id,className:"btn-primary flex items-center gap-2 text-sm disabled:opacity-50 ml-4",children:[(0,a.jsx)(N.Z,{className:"w-4 h-4"}),u===e.id?"Publishing...":"Publish Now"]})]})},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Future Scheduled Posts"}),0===r.filter(e=>!S(e)).length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(Z.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{children:"No future scheduled posts"})]}):(0,a.jsx)("div",{className:"space-y-4",children:r.filter(e=>!S(e)).map(e=>(0,a.jsx)("div",{className:"border rounded-lg p-4 bg-blue-50",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(Z.Z,{className:"w-4 h-4 text-blue-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["Scheduled for: ",(0,_.Z)(new Date(e.schedule_time),"MMM dd, yyyy HH:mm")]})]}),(0,a.jsx)("div",{className:"bg-white rounded border p-3 text-sm text-gray-700 whitespace-pre-wrap",children:e.content})]}),(0,a.jsxs)("button",{onClick:()=>v(e.id),disabled:u===e.id,className:"btn-secondary flex items-center gap-2 text-sm disabled:opacity-50 ml-4",children:[(0,a.jsx)(N.Z,{className:"w-4 h-4"}),u===e.id?"Publishing...":"Publish Early"]})]})},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Published Posts"}),0===n.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(F.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("p",{children:"No published posts yet"})]}):(0,a.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,a.jsx)("div",{className:"border rounded-lg p-4 bg-gray-50",children:(0,a.jsx)("div",{className:"flex justify-between items-start",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(F.Z,{className:"w-4 h-4 text-green-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-green-900",children:["Published on: ",(0,_.Z)(new Date(e.created_at),"MMM dd, yyyy HH:mm")]})]}),(0,a.jsx)("div",{className:"bg-white rounded border p-3 text-sm text-gray-700 whitespace-pre-wrap",children:e.content})]})})},e.id))})]}),h&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Connect with LinkedIn"}),(0,a.jsx)("button",{onClick:()=>{p(!1),b(null)},className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(T.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(A.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start Publishing to LinkedIn"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Connect your LinkedIn account to start publishing posts directly to your profile."})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("button",{onClick:w,className:"w-full btn-primary flex items-center justify-center gap-2",children:[(0,a.jsx)(A.Z,{className:"w-5 h-5"}),"Connect LinkedIn Account"]}),(0,a.jsx)("button",{onClick:()=>{p(!1),b(null)},className:"w-full btn-secondary",children:"Cancel"})]}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,a.jsx)("strong",{children:"Note:"})," This will open LinkedIn's OAuth flow to securely connect your account. You'll be able to publish posts directly to your LinkedIn profile."]})})]})})]})}var L=t(1138);function O(e){let{user:s,onPostUpdated:t}=e,[r,i]=(0,l.useState)([]),[n,d]=(0,l.useState)(!0),[o,m]=(0,l.useState)(""),[u,x]=(0,l.useState)(""),[h,p]=(0,l.useState)(null),[f,b]=(0,l.useState)(!1);(0,l.useEffect)(()=>{v()},[]);let v=async()=>{try{d(!0);let{data:e,error:t}=await c.from("posts").select("*").eq("user_id",s.id).eq("status","draft").order("created_at",{ascending:!1});if(t)throw t;i(e||[])}catch(e){g.default.error("Failed to load drafts")}finally{d(!1)}},w=async e=>{if(!o||!u){g.default.error("Please select both date and time");return}let s="".concat(o,"T").concat(u);try{let{data:{session:a}}=await c.auth.getSession();if(!a){g.default.error("You must be logged in to schedule posts");return}if(!(await fetch("/api/posts/schedule",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.access_token)},body:JSON.stringify({postId:e,scheduleTime:s})})).ok)throw Error("Failed to schedule post");g.default.success("Post scheduled successfully!"),b(!1),p(null),m(""),x(""),v(),null==t||t()}catch(e){g.default.error(e.message||"Failed to schedule post")}},S=async e=>{try{let{data:{session:s}}=await c.auth.getSession();if(!s){g.default.error("You must be logged in to publish posts");return}if(!(await fetch("/api/posts/publish",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.access_token)},body:JSON.stringify({postId:e})})).ok)throw Error("Failed to publish post");g.default.success("Post published successfully!"),v(),null==t||t()}catch(e){g.default.error(e.message||"Failed to publish post")}},k=async e=>{if(confirm("Are you sure you want to delete this draft?"))try{let{error:a}=await c.from("posts").delete().eq("id",e).eq("user_id",s.id);if(a)throw a;g.default.success("Draft deleted successfully!"),v(),null==t||t()}catch(e){g.default.error("Failed to delete draft")}},C=e=>{p(e),b(!0)};return n?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading drafts..."})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Draft Posts"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage your draft posts. Edit, schedule, or publish them when ready."})]}),0===r.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(j.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No drafts yet"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Create your first post to get started!"})]}):(0,a.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-6 shadow-sm",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-600",children:"Draft"}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["Created ",new Date(e.created_at).toLocaleDateString()]})]}),(0,a.jsx)("div",{className:"text-gray-900 whitespace-pre-wrap",children:e.content})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>C(e.id),className:"btn-secondary flex items-center gap-2 text-sm",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4"}),"Schedule"]}),(0,a.jsxs)("button",{onClick:()=>S(e.id),className:"btn-primary flex items-center gap-2 text-sm",children:[(0,a.jsx)(N.Z,{className:"w-4 h-4"}),"Publish Now"]}),(0,a.jsxs)("button",{onClick:()=>k(e.id),className:"btn-secondary flex items-center gap-2 text-sm text-red-600 hover:text-red-700",children:[(0,a.jsx)(L.Z,{className:"w-4 h-4"}),"Delete"]})]})]},e.id))}),f&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Schedule Post"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),(0,a.jsx)("input",{type:"date",value:o,onChange:e=>m(e.target.value),min:new Date().toISOString().split("T")[0],className:"input-field"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),(0,a.jsx)("input",{type:"time",value:u,onChange:e=>x(e.target.value),className:"input-field"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-6",children:[(0,a.jsx)("button",{onClick:()=>{b(!1),p(null),m(""),x("")},className:"btn-secondary flex-1",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>h&&w(h),disabled:!o||!u,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:"Schedule"})]})]})})]})}var M=t(3711);function z(){let[e,s]=(0,l.useState)(!1),[t,r]=(0,l.useState)(!0),[i,n]=(0,l.useState)(null),[d,o]=(0,l.useState)(null);(0,l.useEffect)(()=>{m()},[]);let m=async()=>{try{let{data:{session:e}}=await c.auth.getSession();(null==e?void 0:e.provider_token)&&(s(!0),n({id:"1",firstName:"Yeswanth",lastName:"choudari",headline:"Associate product manager @bosswallah",profilePicture:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",email:e.user.email||""}),o({followers:200,impressions:120,engagement:12,profileViews:490,followersChange:12,impressionsChange:12,engagementChange:12,profileViewsChange:12}))}catch(e){console.error("Error checking LinkedIn connection:",e)}finally{r(!1)}},u=async()=>{r(!0);try{let{error:e}=await c.auth.signInWithOAuth({provider:"linkedin",options:{redirectTo:"".concat(window.location.origin,"/dashboard")}});e?g.default.error("Failed to connect with LinkedIn"):g.default.success("Redirecting to LinkedIn...")}catch(e){g.default.error(e.message||"Failed to connect with LinkedIn")}finally{r(!1)}};return t?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-4"}),(0,a.jsx)("div",{className:"h-32 bg-gray-200 rounded mb-4"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-20 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-20 bg-gray-200 rounded"})]})]})}):e?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("img",{src:null==i?void 0:i.profilePicture,alt:"Profile",className:"w-12 h-12 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[null==i?void 0:i.firstName," ",null==i?void 0:i.lastName]}),(0,a.jsx)(A.Z,{className:"w-4 h-4 text-blue-600"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:null==i?void 0:i.headline})]})]}),(0,a.jsx)("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"Active"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Followers"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-green-600 text-xs",children:[(0,a.jsx)(k.Z,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:["+",null==d?void 0:d.followersChange,"%"]})]})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:null==d?void 0:d.followers}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Past 30 days"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Impressions"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-green-600 text-xs",children:[(0,a.jsx)(k.Z,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:["+",null==d?void 0:d.impressionsChange,"%"]})]})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:null==d?void 0:d.impressions}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Past 30 days"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Engagement"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-green-600 text-xs",children:[(0,a.jsx)(k.Z,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:["+",null==d?void 0:d.engagementChange,"%"]})]})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:null==d?void 0:d.engagement}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Past 30 days"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Profile Views"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-green-600 text-xs",children:[(0,a.jsx)(k.Z,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:["+",null==d?void 0:d.profileViewsChange,"%"]})]})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:null==d?void 0:d.profileViews}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Past 30 days"})]})]}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsxs)("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center gap-1 mx-auto",children:[(0,a.jsx)(M.Z,{className:"w-4 h-4"}),"View Full Analytics"]})})]}):(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(A.Z,{className:"w-8 h-8 text-blue-600"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connect Your LinkedIn Profile"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Connect your LinkedIn account to view your profile analytics and track your post performance."}),(0,a.jsxs)("button",{onClick:u,disabled:t,className:"bg-blue-600 text-white font-medium py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 mx-auto",children:[(0,a.jsx)(A.Z,{className:"w-5 h-5"}),t?"Connecting...":"Connect LinkedIn"]})]})})}function Y(e){var s,t,r,i,n,d,o,m,u;let{user:h}=e,[p,C]=(0,l.useState)("dashboard"),[P,Z]=(0,l.useState)([]),[_,F]=(0,l.useState)(null),[T,A]=(0,l.useState)(!0);(0,l.useEffect)(()=>{L()},[]);let L=async()=>{try{A(!0);let{data:e,error:s}=await c.from("posts").select("*").eq("user_id",h.id).order("created_at",{ascending:!1});if(s)throw s;let{data:t,error:a}=await c.from("user_streaks").select("*").eq("user_id",h.id).single();a&&"PGRST116"!==a.code&&console.error("Streak fetch error:",a),Z(e||[]),F(t)}catch(e){console.error("Error fetching user data:",e),g.default.error("Failed to load dashboard data")}finally{A(!1)}},M=()=>{L()},Y=async()=>{try{let{error:e}=await c.auth.signOut();if(e)throw e;g.default.success("Logged out successfully")}catch(e){g.default.error(e.message||"Failed to logout")}},J=[{id:"dashboard",label:"Dashboard",icon:f.Z},{id:"create",label:"Create Post",icon:b.Z},{id:"draft",label:"Draft",icon:j.Z},{id:"schedule",label:"Schedule",icon:y.Z},{id:"publish",label:"Publish",icon:N.Z}];return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"LinkedIn Post Automation"})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(null===(s=h.user_metadata)||void 0===s?void 0:s.avatar_url)&&(0,a.jsx)("img",{src:h.user_metadata.avatar_url,alt:"Profile",className:"w-8 h-8 rounded-full"}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(t=h.user_metadata)||void 0===t?void 0:t.full_name)||(null===(r=h.user_metadata)||void 0===r?void 0:r.name)||h.email}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:(null===(i=h.user_metadata)||void 0===i?void 0:i.email)||h.email})]})]}),(0,a.jsxs)("button",{onClick:Y,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4"}),"Logout"]})]})]})})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"flex gap-8",children:[(0,a.jsx)("div",{className:"w-64 flex-shrink-0",children:(0,a.jsx)("nav",{className:"bg-white rounded-lg shadow-sm p-4",children:(0,a.jsx)("ul",{className:"space-y-2",children:J.map(e=>{let s=e.icon;return(0,a.jsx)("li",{children:(0,a.jsxs)("button",{onClick:()=>C(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-colors ".concat(p===e.id?"bg-primary-50 text-primary-700 border border-primary-200":"text-gray-600 hover:bg-gray-50"),children:[(0,a.jsx)(s,{className:"w-5 h-5"}),e.label]})},e.id)})})})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:["dashboard"===p&&(0,a.jsx)("div",{className:"space-y-6",children:T?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading dashboard data..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Hey ",(null===(d=h.user_metadata)||void 0===d?void 0:null===(n=d.full_name)||void 0===n?void 0:n.split(" ")[0])||(null===(m=h.user_metadata)||void 0===m?void 0:null===(o=m.name)||void 0===o?void 0:o.split(" ")[0])||(null===(u=h.email)||void 0===u?void 0:u.split("@")[0])||"there"," \uD83D\uDC4B\uD83C\uDFFB"]}),(0,a.jsx)("p",{className:"text-gray-600",children:"Welcome back! Here's your LinkedIn posting overview."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"bg-blue-500 rounded-full p-2",children:(0,a.jsx)(b.Z,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-blue-600",children:"Total Posts"}),(0,a.jsx)("div",{className:"text-xl font-bold text-blue-900",children:P.length})]})]})}),(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"bg-green-500 rounded-full p-2",children:(0,a.jsx)(N.Z,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-green-600",children:"Published"}),(0,a.jsx)("div",{className:"text-xl font-bold text-green-900",children:P.filter(e=>"published"===e.status).length})]})]})}),(0,a.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"bg-yellow-500 rounded-full p-2",children:(0,a.jsx)(y.Z,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-yellow-600",children:"Scheduled"}),(0,a.jsx)("div",{className:"text-xl font-bold text-yellow-900",children:P.filter(e=>"scheduled"===e.status).length})]})]})}),(0,a.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"bg-purple-500 rounded-full p-2",children:(0,a.jsx)(x.Z,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-purple-600",children:"Drafts"}),(0,a.jsx)("div",{className:"text-xl font-bold text-purple-900",children:P.filter(e=>"draft"===e.status).length})]})]})})]}),(0,a.jsx)(z,{}),(0,a.jsxs)("div",{className:"border rounded-lg p-6 bg-gradient-to-br from-orange-50 to-red-50",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-full p-3",children:(0,a.jsx)(w.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Posting Streak"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Keep the momentum going!"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:(null==_?void 0:_.current_streak)||0}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"days"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 border",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Current Streak"}),(0,a.jsxs)("div",{className:"text-xl font-bold text-orange-600",children:[(null==_?void 0:_.current_streak)||0," days"]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 border",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Longest Streak"}),(0,a.jsxs)("div",{className:"text-xl font-bold text-purple-600",children:[(null==_?void 0:_.longest_streak)||0," days"]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 border",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Total Posts"}),(0,a.jsx)("div",{className:"text-xl font-bold text-blue-600",children:(null==_?void 0:_.total_posts)||P.length})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Last Activity"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:(null==_?void 0:_.last_activity_date)?new Date(_.last_activity_date).toLocaleDateString():"No activity yet"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(((null==_?void 0:_.current_streak)||0)/30*100,100),"%")}})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,a.jsx)("span",{children:"0 days"}),(0,a.jsx)("span",{children:"30 days"})]})]}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-orange-100 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4 text-orange-600"}),(0,a.jsx)("span",{className:"text-sm text-orange-800",children:(null==_?void 0:_.current_streak)===0?"\uD83D\uDD25 Start your streak today! Create a post to begin your journey!":((null==_?void 0:_.current_streak)||0)>=7?"\uD83D\uDD25 Amazing! You're on a ".concat(null==_?void 0:_.current_streak,"-day streak! Keep it up!"):"\uD83D\uDD25 Great start! You're building momentum with a ".concat((null==_?void 0:_.current_streak)||0,"-day streak!")})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"bg-blue-500 rounded-full p-2",children:(0,a.jsx)(f.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Post Analytics"})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Track engagement, reach, and performance metrics for your LinkedIn posts."}),(0,a.jsx)("div",{className:"text-sm text-blue-600 font-medium",children:"Coming Soon"})]}),(0,a.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"bg-green-500 rounded-full p-2",children:(0,a.jsx)(S.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Audience Insights"})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Understand your audience demographics and engagement patterns."}),(0,a.jsx)("div",{className:"text-sm text-green-600 font-medium",children:"Coming Soon"})]}),(0,a.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"bg-purple-500 rounded-full p-2",children:(0,a.jsx)(k.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Content Performance"})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Analyze which content types perform best and optimize your strategy."}),(0,a.jsx)("div",{className:"text-sm text-purple-600 font-medium",children:"Coming Soon"})]}),(0,a.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"bg-orange-500 rounded-full p-2",children:(0,a.jsx)(S.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Team Collaboration"})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Collaborate with team members on content creation and approval workflows."}),(0,a.jsx)("div",{className:"text-sm text-orange-600 font-medium",children:"Coming Soon"})]})]}),(0,a.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),(0,a.jsx)("div",{className:"space-y-3",children:0===P.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(b.Z,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),(0,a.jsx)("p",{children:"No posts yet. Create your first post to get started!"})]}):P.slice(0,5).map(e=>{var s;return(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"".concat((()=>{switch(e.status){case"published":return"bg-green-500";case"scheduled":return"bg-blue-500";case"draft":return"bg-yellow-500";default:return"bg-gray-500"}})()," rounded-full p-1"),children:(()=>{switch(e.status){case"published":return(0,a.jsx)(N.Z,{className:"w-3 h-3 text-white"});case"scheduled":return(0,a.jsx)(y.Z,{className:"w-3 h-3 text-white"});default:return(0,a.jsx)(b.Z,{className:"w-3 h-3 text-white"})}})()}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(()=>{switch(e.status){case"published":return"Post published";case"scheduled":return"Post scheduled";case"draft":return"Draft created";default:return"Post created"}})()}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:['"',(s=e.content).length>50?s.substring(0,50)+"...":s,'" - ',(e=>{let s=new Date(e),t=Math.floor((new Date().getTime()-s.getTime())/36e5);return t<1?"Just now":t<24?"".concat(t," hours ago"):t<48?"1 day ago":"".concat(Math.floor(t/24)," days ago")})(e.created_at)]})]})]},e.id)})})]})]})}),"create"===p&&(0,a.jsx)(D,{user:h,onPostCreated:M}),"draft"===p&&(0,a.jsx)(O,{user:h,onPostUpdated:M}),"schedule"===p&&(0,a.jsx)(I,{user:h,onPostUpdated:M}),"publish"===p&&(0,a.jsx)(E,{user:h,onPostUpdated:M})]})})]})})]})}function J(){let[e,s]=(0,l.useState)(!0),[t,r]=(0,l.useState)(null);return((0,l.useEffect)(()=>{c.auth.getSession().then(e=>{let{data:{session:t}}=e;r(t),s(!1)}).catch(e=>{console.error("Session check error:",e),s(!1)});let{data:{subscription:e}}=c.auth.onAuthStateChange((e,s)=>{r(s)});return()=>e.unsubscribe()},[]),e)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):t?(0,a.jsx)(Y,{user:t.user}):(0,a.jsx)(p,{})}}},function(e){e.O(0,[102,971,938,744],function(){return e(e.s=3548)}),_N_E=e.O()}]);